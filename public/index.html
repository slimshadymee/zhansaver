<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
  <title>ZHANSAVER</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@700;800&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg: #000; --surface: #111; --surface2: #1a1a1a; --border: #2a2a2a;
      --border-active: #fff; --text: #fff; --text-muted: #666; --text-dim: #999;
      --btn-bg: #fff; --btn-text: #000; --danger: #ff3b3b; --success: #3bff8a; --radius: 12px;
    }
    html { font-size: 16px; }
    body { min-height: 100vh; background: var(--bg); font-family: 'Space Mono', monospace; color: var(--text); display: flex; flex-direction: column; align-items: center; -webkit-font-smoothing: antialiased; }

    /* ‚îÄ‚îÄ NAVBAR ‚îÄ‚îÄ */
    .navbar {
      width: 100%; max-width: 640px;
      display: flex; align-items: center; justify-content: center;
      gap: 4px; padding: 20px 20px 0;
    }
    .nav-btn {
      flex: 1; padding: 10px 0; background: transparent;
      border: 1.5px solid var(--border); border-radius: 10px;
      color: var(--text-muted); font-family: 'Syne', sans-serif; font-weight: 800;
      font-size: 0.78rem; letter-spacing: 0.05em; text-transform: uppercase;
      cursor: pointer; transition: all 0.18s;
    }
    .nav-btn:hover { border-color: #444; color: var(--text); }
    .nav-btn.active { background: var(--btn-bg); color: var(--btn-text); border-color: var(--btn-bg); }

    /* ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ */
    .page { display: none; width: 100%; flex-direction: column; align-items: center; padding-bottom: 60px; }
    .page.active { display: flex; }

    /* ‚îÄ‚îÄ INSTTIK PAGE ‚îÄ‚îÄ */
    .header { width: 100%; max-width: 640px; padding: 32px 20px 0; text-align: center; }
    .logo-mark { width: 44px; height: 44px; border: 2px solid var(--text); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; }
    .logo-mark svg { display: block; }
    h1 { font-family: 'Syne', sans-serif; font-weight: 800; font-size: clamp(1.6rem, 7vw, 2.2rem); letter-spacing: -0.03em; color: var(--text); line-height: 1; margin-bottom: 8px; }
    .tagline { color: var(--text-muted); font-size: 0.78rem; letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 28px; }
    .site-disabled-banner { width: 100%; margin: 0 auto 16px; padding: 14px 16px; background: rgba(255,59,59,0.1); border: 1.5px solid var(--danger); border-radius: var(--radius); font-size: 0.82rem; color: var(--danger); text-align: center; display: none; }
    .site-disabled-banner.show { display: block; }
    .input-row { display: flex; gap: 8px; width: 100%; }
    .input-group { flex: 1; display: flex; background: var(--surface); border: 1.5px solid var(--border); border-radius: var(--radius); overflow: hidden; transition: border-color 0.2s; }
    .input-group:focus-within { border-color: var(--border-active); }
    input[type="text"] { flex: 1; padding: 14px; background: transparent; border: none; color: var(--text); font-size: 0.875rem; font-family: 'Space Mono', monospace; outline: none; min-width: 0; }
    input[type="text"]::placeholder { color: var(--text-muted); }
    input[type="text"]:disabled { opacity: 0.4; cursor: not-allowed; }
    .btn-paste { padding: 0 14px; background: transparent; border: none; border-left: 1px solid var(--border); color: var(--text-muted); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: color 0.15s, background 0.15s; flex-shrink: 0; }
    .btn-paste:hover { color: var(--text); background: rgba(255,255,255,0.05); }
    .btn-fetch { padding: 14px 20px; background: var(--btn-bg); color: var(--btn-text); border: none; border-radius: var(--radius); font-size: 0.875rem; font-family: 'Syne', sans-serif; font-weight: 800; cursor: pointer; white-space: nowrap; letter-spacing: -0.01em; transition: opacity 0.15s, transform 0.1s; flex-shrink: 0; }
    .btn-fetch:hover { opacity: 0.85; }
    .btn-fetch:active { transform: scale(0.97); }
    .btn-fetch:disabled { opacity: 0.35; cursor: not-allowed; transform: none; }
    .status { width: 100%; max-width: 640px; margin-top: 12px; display: none; }
    .status-inner { padding: 12px 14px; border-radius: var(--radius); font-size: 0.8rem; line-height: 1.5; }
    .status.loading { display: block; }
    .status.loading .status-inner { background: var(--surface); border: 1px solid var(--border); color: var(--text-dim); }
    .status.error { display: block; }
    .status.error .status-inner { background: rgba(255,59,59,0.08); border: 1px solid rgba(255,59,59,0.3); color: var(--danger); }
    .divider { width: calc(100% - 40px); max-width: 640px; height: 1px; background: var(--border); margin: 28px 0; display: none; }
    .divider.show { display: block; }
    .results { width: 100%; max-width: 900px; padding: 0 20px; display: none; }
    .results.show { display: block; }
    .results-header { max-width: 640px; margin: 0 auto 16px; display: flex; align-items: center; justify-content: space-between; gap: 12px; flex-wrap: wrap; }
    .results-title { font-size: 0.78rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.08em; }
    .btn-dl-all { display: flex; align-items: center; gap: 6px; padding: 9px 16px; background: var(--btn-bg); color: var(--btn-text); border: none; border-radius: 9px; font-size: 0.8rem; font-family: 'Syne', sans-serif; font-weight: 800; cursor: pointer; transition: opacity 0.15s; }
    .btn-dl-all:hover { opacity: 0.82; }
    .media-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(min(100%, 240px), 1fr)); gap: 12px; }
    .media-card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; transition: border-color 0.2s; }
    .media-card:hover { border-color: #444; }
    .media-thumb { position: relative; aspect-ratio: 1; background: var(--surface2); overflow: hidden; }
    .media-thumb img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .media-badge { position: absolute; top: 8px; right: 8px; padding: 3px 8px; background: rgba(0,0,0,0.85); border: 1px solid rgba(255,255,255,0.15); border-radius: 20px; font-size: 0.68rem; font-weight: 700; color: var(--text); letter-spacing: 0.05em; }
    .media-footer { padding: 11px 13px; display: flex; align-items: center; justify-content: space-between; gap: 8px; border-top: 1px solid var(--border); }
    .media-index { font-size: 0.75rem; color: var(--text-muted); }
    .btn-dl { display: flex; align-items: center; gap: 5px; padding: 7px 13px; background: var(--btn-bg); color: var(--btn-text); border: none; border-radius: 8px; font-size: 0.75rem; font-family: 'Syne', sans-serif; font-weight: 800; cursor: pointer; transition: opacity 0.15s; }
    .btn-dl:hover { opacity: 0.8; }
    .btn-dl.done { background: var(--success); color: #000; }
    .single-media { display: flex; flex-direction: column; align-items: center; gap: 16px; }
    .single-media img { max-width: 480px; width: 100%; border-radius: var(--radius); border: 1px solid var(--border); }
    /* –í–∏–¥–µ–æ –±–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ—Å—Ç–µ—Ä */
    .single-video { max-width: 480px; width: 100%; border-radius: var(--radius); border: 1px solid var(--border); overflow: hidden; background: #000; display: block; cursor: pointer; }

    /* ‚îÄ‚îÄ –ú–û–î–ê–õ–ö–ê –ö–£–ö–ò ‚îÄ‚îÄ */
    .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.92); z-index: 1000; align-items: flex-end; justify-content: center; }
    @media (min-width: 480px) { .modal-overlay { align-items: center; padding: 20px; } }
    .modal-overlay.show { display: flex; }
    .modal { background: var(--surface); border: 1px solid var(--border); border-radius: 20px 20px 0 0; padding: 24px 20px; width: 100%; max-width: 560px; max-height: 90vh; overflow-y: auto; }
    @media (min-width: 480px) { .modal { border-radius: 16px; padding: 28px; } }
    .modal-handle { width: 36px; height: 4px; background: var(--border); border-radius: 2px; margin: 0 auto 20px; }
    @media (min-width: 480px) { .modal-handle { display: none; } }
    .modal h2 { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.1rem; margin-bottom: 8px; letter-spacing: -0.02em; }
    .modal p { color: var(--text-muted); font-size: 0.78rem; line-height: 1.7; margin-bottom: 16px; }
    .steps-mini { list-style: none; margin-bottom: 18px; display: flex; flex-direction: column; gap: 6px; }
    .steps-mini li { color: var(--text-dim); font-size: 0.78rem; line-height: 1.6; padding-left: 22px; position: relative; }
    .steps-mini li::before { content: attr(data-n); position: absolute; left: 0; color: var(--text); font-weight: 700; }
    .steps-mini li strong { color: var(--text); }
    textarea { width: 100%; min-height: 80px; background: var(--bg); border: 1.5px solid var(--border); border-radius: var(--radius); color: var(--text); font-size: 0.75rem; padding: 12px; resize: vertical; outline: none; font-family: 'Space Mono', monospace; line-height: 1.5; transition: border-color 0.2s; }
    textarea:focus { border-color: var(--border-active); }
    textarea::placeholder { color: var(--text-muted); }
    .modal-actions { display: flex; gap: 8px; margin-top: 14px; }
    .btn-save { flex: 1; padding: 13px; background: var(--btn-bg); color: var(--btn-text); border: none; border-radius: var(--radius); font-size: 0.9rem; font-family: 'Syne', sans-serif; font-weight: 800; cursor: pointer; transition: opacity 0.15s; }
    .btn-save:hover { opacity: 0.85; }
    .btn-cancel { padding: 13px 18px; background: transparent; color: var(--text-muted); border: 1px solid var(--border); border-radius: var(--radius); font-size: 0.9rem; font-family: 'Space Mono', monospace; cursor: pointer; transition: background 0.15s, color 0.15s; }
    .btn-cancel:hover { background: var(--surface2); color: var(--text); }

    /* ‚îÄ‚îÄ –ú–û–î–ê–õ–ö–ê –î–û–ë–ê–í–ò–¢–¨ –†–ï–õ–ò–ó ‚îÄ‚îÄ */
    .release-form-label { font-size: 0.72rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 6px; display: block; }
    .release-form-field { margin-bottom: 14px; }
    .release-form-field input[type="text"],
    .release-form-field input[type="date"] { width: 100%; padding: 12px 14px; background: var(--bg); border: 1.5px solid var(--border); border-radius: var(--radius); color: var(--text); font-size: 0.85rem; font-family: 'Space Mono', monospace; outline: none; transition: border-color 0.2s; }
    .release-form-field input[type="date"]::-webkit-calendar-picker-indicator { filter: invert(1); }
    .release-form-field input:focus { border-color: var(--border-active); }
    .cover-upload-area { border: 1.5px dashed var(--border); border-radius: var(--radius); padding: 20px; text-align: center; cursor: pointer; transition: border-color 0.2s; position: relative; overflow: hidden; }
    .cover-upload-area:hover { border-color: #555; }
    .cover-upload-area input[type="file"] { position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%; }
    .cover-upload-area .upload-text { font-size: 0.78rem; color: var(--text-muted); }
    .cover-preview { width: 100%; height: 140px; object-fit: cover; border-radius: 8px; display: none; }
    .cover-tab { flex: 1; padding: 8px; background: transparent; border: 1.5px solid var(--border); border-radius: 8px; color: var(--text-muted); font-family: 'Space Mono', monospace; font-size: 0.72rem; cursor: pointer; transition: all 0.15s; }
    .cover-tab.active { background: var(--btn-bg); color: var(--btn-text); border-color: var(--btn-bg); }

    /* ‚îÄ‚îÄ RELEASE PAGE ‚îÄ‚îÄ */
    .release-page-inner { width: 100%; max-width: 640px; padding: 28px 20px 0; }
    .release-page-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 24px; }
    .release-page-title { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.4rem; letter-spacing: -0.03em; }
    .btn-add-release { display: flex; align-items: center; gap: 6px; padding: 10px 18px; background: var(--btn-bg); color: var(--btn-text); border: none; border-radius: 10px; font-family: 'Syne', sans-serif; font-weight: 800; font-size: 0.82rem; cursor: pointer; transition: opacity 0.15s; }
    .btn-add-release:hover { opacity: 0.85; }
    .releases-list { display: flex; flex-direction: column; gap: 12px; }
    .release-card { display: flex; align-items: center; gap: 14px; background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); overflow: hidden; padding: 12px 14px; position: relative; transition: border-color 0.2s; }
    .release-card:hover { border-color: #444; }
    .release-card.released { border-color: rgba(59,255,138,0.25); }
    .release-cover { width: 56px; height: 56px; border-radius: 8px; object-fit: cover; background: var(--surface2); flex-shrink: 0; }
    .release-cover-placeholder { width: 56px; height: 56px; border-radius: 8px; background: var(--surface2); flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; }
    .release-info { flex: 1; min-width: 0; }
    .release-title-text { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 0.95rem; letter-spacing: -0.02em; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .release-artist-text { font-size: 0.75rem; color: var(--text-muted); margin-top: 2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .release-right { display: flex; flex-direction: column; align-items: flex-end; gap: 6px; flex-shrink: 0; }
    .release-date-badge { font-size: 0.68rem; color: var(--text-dim); font-family: 'Space Mono', monospace; white-space: nowrap; }
    .release-status { font-size: 0.65rem; font-weight: 700; padding: 2px 8px; border-radius: 20px; letter-spacing: 0.04em; text-transform: uppercase; }
    .release-status.out { background: rgba(59,255,138,0.12); color: var(--success); }
    .release-status.upcoming { background: rgba(255,255,255,0.07); color: var(--text-dim); }
    .btn-delete-release { background: transparent; border: none; color: var(--text-muted); cursor: pointer; padding: 4px; border-radius: 6px; transition: color 0.15s, background 0.15s; flex-shrink: 0; }
    .btn-delete-release:hover { color: var(--danger); background: rgba(255,59,59,0.1); }
    .releases-empty { text-align: center; padding: 60px 20px; color: var(--text-muted); font-size: 0.82rem; line-height: 1.7; }

    /* ‚îÄ‚îÄ ADMIN MSG OVERLAY ‚îÄ‚îÄ */
    .admin-msg-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.97); z-index: 9999; align-items: center; justify-content: center; padding: 24px; }
    .admin-msg-overlay.show { display: flex; }
    .admin-msg-box { max-width: 560px; width: 100%; border: 1.5px solid var(--danger); border-radius: 20px; padding: 40px 32px; text-align: center; background: #0a0a0a; animation: fadeIn 0.3s ease; }
    @keyframes fadeIn { from { opacity: 0; transform: scale(0.96); } to { opacity: 1; transform: scale(1); } }
    .admin-msg-icon { font-size: 2.4rem; margin-bottom: 16px; }
    .admin-msg-title { font-family: 'Syne', sans-serif; font-weight: 800; font-size: clamp(1.3rem, 5vw, 1.8rem); letter-spacing: -0.03em; color: #fff; margin-bottom: 14px; }
    .admin-msg-body { font-size: 0.9rem; color: var(--text-dim); line-height: 1.7; }

    /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
    .toast { position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%) translateY(80px); background: var(--surface); border: 1px solid var(--border); color: var(--text); padding: 10px 18px; border-radius: 100px; font-size: 0.78rem; z-index: 2000; transition: transform 0.25s cubic-bezier(0.34,1.56,0.64,1), opacity 0.2s; opacity: 0; white-space: nowrap; }
    .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }

    @media (max-width: 480px) {
      .header { padding-top: 20px; }
      .btn-fetch { padding: 14px 16px; font-size: 0.8rem; }
      input[type="text"] { font-size: 0.8rem; }
      .media-grid { grid-template-columns: repeat(2, 1fr); gap: 8px; }
    }
    @media (max-width: 360px) { .media-grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>

<!-- –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
<div class="admin-msg-overlay" id="adminMsgOverlay">
  <div class="admin-msg-box">
    <div class="admin-msg-icon">üì¢</div>
    <div class="admin-msg-title" id="adminMsgTitle">–í–Ω–∏–º–∞–Ω–∏–µ</div>
    <div class="admin-msg-body" id="adminMsgBody"></div>
  </div>
</div>


</div>

<!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–ª–∏–∑ -->
<div class="modal-overlay" id="releaseModalOverlay">
  <div class="modal">
    <div class="modal-handle"></div>
    <h2>–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ª–∏–∑</h2>

    <div class="release-form-field">
      <label class="release-form-label">–û–±–ª–æ–∂–∫–∞</label>
      <div style="display:flex;gap:6px;margin-bottom:8px;">
        <button type="button" class="cover-tab active" id="coverTabFile" onclick="switchCoverTab('file')">üìÅ –§–∞–π–ª</button>
        <button type="button" class="cover-tab" id="coverTabUrl" onclick="switchCoverTab('url')">üîó –°—Å—ã–ª–∫–∞</button>
      </div>
      <div id="coverFileSection">
        <div class="cover-upload-area" id="coverUploadArea">
          <input type="file" id="coverFileInput" accept="image/*" onchange="handleCoverUpload(event)"/>
          <img class="cover-preview" id="coverPreview" alt="cover"/>
          <div class="upload-text" id="uploadText">–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</div>
        </div>
      </div>
      <div id="coverUrlSection" style="display:none">
        <input type="text" id="coverUrlInput" placeholder="https://..." oninput="handleCoverUrl(this.value)" style="width:100%;padding:12px 14px;background:var(--bg);border:1.5px solid var(--border);border-radius:var(--radius);color:var(--text);font-size:0.85rem;font-family:Space Mono,monospace;outline:none;"/>
        <img class="cover-preview" id="coverUrlPreview" alt="cover" style="margin-top:8px;width:100%;height:140px;object-fit:cover;border-radius:8px;display:none;"/>
      </div>
    </div>

    <div class="release-form-field">
      <label class="release-form-label">–ò–º—è –∞—Ä—Ç–∏—Å—Ç–∞</label>
      <input type="text" id="releaseArtist" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Travis Scott"/>
    </div>

    <div class="release-form-field">
      <label class="release-form-label">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
      <input type="text" id="releaseTitle" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: UTOPIA"/>
    </div>

    <div class="release-form-field">
      <label class="release-form-label">–î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞</label>
      <div style="display:flex;gap:8px;">
        <input type="date" id="releaseDate" style="flex:1"/>
        <input type="time" id="releaseTime" value="00:00" style="width:100px;padding:12px 10px;background:var(--bg);border:1.5px solid var(--border);border-radius:var(--radius);color:var(--text);font-size:0.85rem;font-family:Space Mono,monospace;outline:none;"/>
      </div>
    </div>

    <div class="modal-actions">
      <button class="btn-save" onclick="addRelease()">–î–æ–±–∞–≤–∏—Ç—å</button>
      <button class="btn-cancel" onclick="closeReleaseModal()">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<!-- NAVBAR -->
<nav class="navbar">
  <button class="nav-btn active" id="navInsttik" onclick="switchPage('insttik')">INSTTIK</button>
  <button class="nav-btn" id="navRelease" onclick="switchPage('release')">RELEASE</button>
</nav>

<!-- PAGE: INSTTIK -->
<div class="page active" id="pageInsttik">
  <div class="header">
    <div class="logo-mark">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
        <circle cx="12" cy="12" r="4"/>
        <circle cx="17.5" cy="6.5" r="1" fill="white" stroke="none"/>
      </svg>
    </div>
    <h1>ZHANSAVER</h1>
    <p class="tagline">Instagram</p>

    <div class="site-disabled-banner" id="siteDisabledBanner">
      üî¥ –°–∞–π—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ü—Ä–∏—ë–º —Å—Å—ã–ª–æ–∫ –æ—Ç–∫–ª—é—á—ë–Ω.
    </div>
    <div class="input-row">
      <div class="input-group">
        <input type="text" id="urlInput" placeholder="instagram.com/p/..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
        <button class="btn-paste" onclick="pasteFromClipboard()" title="–í—Å—Ç–∞–≤–∏—Ç—å –∏–∑ –±—É—Ñ–µ—Ä–∞">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="9" y="2" width="10" height="4" rx="1"/>
            <path d="M9 4H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-2"/>
          </svg>
        </button>
      </div>
      <button class="btn-fetch" id="fetchBtn" onclick="fetchMedia()">–ù–∞–π—Ç–∏</button>
    </div>

    <div class="status" id="status">
      <div class="status-inner" id="statusInner"></div>
    </div>
  </div>

  <div class="divider" id="divider"></div>
  <div class="results" id="results"></div>
</div>

<!-- PAGE: RELEASE -->
<div class="page" id="pageRelease">
  <div class="release-page-inner">
    <div class="release-page-header">
      <div class="release-page-title">–†–µ–ª–∏–∑—ã</div>
      <button class="btn-add-release" onclick="openReleaseModal()">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        –î–æ–±–∞–≤–∏—Ç—å
      </button>
    </div>
    <div class="releases-list" id="releasesList">
      <div class="releases-empty">–ù–µ—Ç —Ä–µ–ª–∏–∑–æ–≤.<br>–ù–∞–∂–º–∏ ¬´–î–æ–±–∞–≤–∏—Ç—å¬ª —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π.</div>
    </div>
  </div>
</div>

<script>
  const DL_ICON = `<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v10M7 15l5 5 5-5"/><path d="M5 20h14"/></svg>`;
  let siteEnabled = true;
  let coverBase64 = null;

  // ‚îÄ‚îÄ –ù–∞–≤–∏–≥–∞—Ü–∏—è ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function switchPage(page) {
    document.querySelectorAll('.page').forEach(p => { p.classList.remove('active'); p.style.display = 'none'; });
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    const pageEl = document.getElementById('page' + page.charAt(0).toUpperCase() + page.slice(1));
    if (pageEl) { pageEl.classList.add('active'); pageEl.style.display = 'flex'; }
    const navEl = document.getElementById('nav' + page.charAt(0).toUpperCase() + page.slice(1));
    if (navEl) navEl.classList.add('active');
    if (page === 'release') loadReleases();
  }

  // ‚îÄ‚îÄ Toast ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function showToast(msg, duration = 2000) {
    const t = document.getElementById('toast');
    t.textContent = msg; t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), duration);
  }

  // ‚îÄ‚îÄ Clipboard ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  async function pasteFromClipboard() {
    try {
      const text = await navigator.clipboard.readText();
      if (text) { document.getElementById('urlInput').value = text.trim(); showToast('–°—Å—ã–ª–∫–∞ –≤—Å—Ç–∞–≤–ª–µ–Ω–∞'); }
      else showToast('–ë—É—Ñ–µ—Ä –ø—É—Å—Ç');
    } catch { showToast('–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –±—É—Ñ–µ—Ä—É ‚Äî –≤—Å—Ç–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é'); }
  }

  // ‚îÄ‚îÄ –°—Ç–∞—Ç—É—Å —Å–∞–π—Ç–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  async function checkSiteStatus() {
    try {
      const res = await fetch('/api/status');
      const data = await res.json();
      siteEnabled = data.siteEnabled !== false;
      if (!siteEnabled) {
        document.getElementById('siteDisabledBanner').classList.add('show');
        document.getElementById('fetchBtn').disabled = true;
        document.getElementById('urlInput').disabled = true;
      } else {
        document.getElementById('siteDisabledBanner').classList.remove('show');
        document.getElementById('fetchBtn').disabled = false;
        document.getElementById('urlInput').disabled = false;
      }
      if (data.siteMessage?.active && data.siteMessage.title) {
        document.getElementById('adminMsgTitle').textContent = data.siteMessage.title;
        document.getElementById('adminMsgBody').textContent = data.siteMessage.body || '';
        document.getElementById('adminMsgOverlay').classList.add('show');
      } else {
        document.getElementById('adminMsgOverlay').classList.remove('show');
      }
    } catch {}
  }
  // ‚îÄ‚îÄ –°—Ç–∞—Ç—É—Å –ø–æ–∏—Å–∫–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function showStatus(msg, type) {
    document.getElementById('statusInner').textContent = msg;
    document.getElementById('status').className = 'status ' + type;
  }
  function hideStatus() { document.getElementById('status').className = 'status'; }

  // ‚îÄ‚îÄ Fetch –º–µ–¥–∏–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  async function fetchMedia() {
    if (!siteEnabled) { showStatus('‚ùå –°–∞–π—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.', 'error'); return; }
    const url = document.getElementById('urlInput').value.trim();
    const btn = document.getElementById('fetchBtn');
    const results = document.getElementById('results');
    const divider = document.getElementById('divider');
    results.className = 'results'; results.innerHTML = '';
    divider.className = 'divider';
    if (!url) { showStatus('–í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ—Å—Ç', 'error'); return; }
    btn.disabled = true; btn.textContent = '...';
    showStatus('–ü–æ–ª—É—á–∞–µ–º –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã...', 'loading');
    try {
      const res = await fetch('/api/fetch', { method: 'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify({ url }) });
      const data = await res.json();
      if (!data.success) {
        showStatus('‚ùå ' + (data.siteDisabled ? '–°–∞–π—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.' : data.error), 'error');
        return;
      }
      hideStatus();
      renderResults(data.media, data.shortcode);
    } catch { showStatus('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º', 'error'); }
    finally { btn.disabled = !siteEnabled; btn.textContent = '–ù–∞–π—Ç–∏'; }
  }
  function download(mediaUrl, filename) {
    const a = document.createElement('a');
    a.href = `/proxy?url=${encodeURIComponent(mediaUrl)}&dl=1`;
    a.download = filename;
    document.body.appendChild(a); a.click(); document.body.removeChild(a);
  }

  function renderResults(media, shortcode) {
    const results = document.getElementById('results');
    const divider = document.getElementById('divider');
    results.innerHTML = '';

    if (media.length === 1) {
      const item = media[0];
      const ext = item.type === 'video' ? 'mp4' : 'jpg';
      const wrap = document.createElement('div');
      wrap.className = 'single-media';

      if (item.type === 'video') {
        const v = document.createElement('video');
        v.className = 'single-video';
        v.src = `/proxy?url=${encodeURIComponent(item.url)}`;
        v.playsinline = true;
        v.preload = 'auto';
        v.setAttribute('webkit-playsinline', '');
        v.style.maxHeight = '70vh';
        v.onclick = () => v.paused ? v.play() : v.pause();
        wrap.appendChild(v);
      } else {
        const img = document.createElement('img');
        img.src = `/proxy?url=${encodeURIComponent(item.url)}`; img.alt = 'photo';
        wrap.appendChild(img);
      }

      const dlBtn = document.createElement('button');
      dlBtn.className = 'btn-dl';
      dlBtn.innerHTML = `${DL_ICON} –°–∫–∞—á–∞—Ç—å ${item.type === 'video' ? '–≤–∏–¥–µ–æ' : '—Ñ–æ—Ç–æ'}`;
      dlBtn.onclick = () => {
        download(item.url, `media_${shortcode}.${ext}`);
        dlBtn.className = 'btn-dl done'; dlBtn.textContent = '‚úì –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è';
        setTimeout(() => { dlBtn.className = 'btn-dl'; dlBtn.innerHTML = `${DL_ICON} –°–∫–∞—á–∞—Ç—å`; }, 3000);
      };
      wrap.appendChild(dlBtn);
      results.appendChild(wrap);
    } else {
      const header = document.createElement('div'); header.className = 'results-header';
      const title = document.createElement('span'); title.className = 'results-title'; title.textContent = `${media.length} —Ñ–∞–π–ª–æ–≤`;
      const dlAll = document.createElement('button'); dlAll.className = 'btn-dl-all';
      dlAll.innerHTML = `${DL_ICON} –°–∫–∞—á–∞—Ç—å –≤—Å–µ`;
      dlAll.onclick = () => media.forEach((item, i) =>
        setTimeout(() => download(item.url, `media_${shortcode}_${i+1}.${item.type==='video'?'mp4':'jpg'}`), i * 700)
      );
      header.appendChild(title); header.appendChild(dlAll); results.appendChild(header);

      const grid = document.createElement('div'); grid.className = 'media-grid';
      media.forEach((item, i) => {
        const ext = item.type === 'video' ? 'mp4' : 'jpg';
        const card = document.createElement('div'); card.className = 'media-card';
        const thumbWrap = document.createElement('div'); thumbWrap.className = 'media-thumb';

        // –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É (thumb –∏–ª–∏ post–µ—Ä), –±–µ–∑ –≤–∏–¥–µ–æ-—ç–ª–µ–º–µ–Ω—Ç–∞
        const img = document.createElement('img');
        if (item.type === 'video') {
          img.src = item.thumb ? `/proxy?url=${encodeURIComponent(item.thumb)}` : '';
        } else {
          img.src = `/proxy?url=${encodeURIComponent(item.url)}`;
        }
        img.loading = 'lazy'; img.alt = `${item.type === 'video' ? '–í–∏–¥–µ–æ' : '–§–æ—Ç–æ'} ${i+1}`;
        thumbWrap.appendChild(img);

        const badge = document.createElement('span'); badge.className = 'media-badge';
        badge.textContent = item.type === 'video' ? '‚ñ∂ –í–ò–î–ï–û' : '–§–û–¢–û';
        thumbWrap.appendChild(badge);

        const footer = document.createElement('div'); footer.className = 'media-footer';
        const idx = document.createElement('span'); idx.className = 'media-index'; idx.textContent = `${i+1} / ${media.length}`;
        const dlBtn = document.createElement('button'); dlBtn.className = 'btn-dl';
        dlBtn.innerHTML = `${DL_ICON} –°–∫–∞—á–∞—Ç—å`;
        dlBtn.onclick = () => {
          download(item.url, `media_${shortcode}_${i+1}.${ext}`);
          dlBtn.className = 'btn-dl done'; dlBtn.textContent = '‚úì';
          setTimeout(() => { dlBtn.className = 'btn-dl'; dlBtn.innerHTML = `${DL_ICON} –°–∫–∞—á–∞—Ç—å`; }, 3000);
        };
        footer.appendChild(idx); footer.appendChild(dlBtn);
        card.appendChild(thumbWrap); card.appendChild(footer);
        grid.appendChild(card);
      });
      results.appendChild(grid);
    }

    divider.className = 'divider show';
    results.className = 'results show';
    results.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }

  document.getElementById('urlInput').addEventListener('keydown', e => { if (e.key === 'Enter') fetchMedia(); });

  // ‚îÄ‚îÄ RELEASE PAGE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  function openReleaseModal() {
    coverBase64 = null;
    document.getElementById('coverPreview').style.display = 'none';
    document.getElementById('uploadText').style.display = 'block';
    document.getElementById('coverFileInput').value = '';
    document.getElementById('coverUrlInput').value = '';
    document.getElementById('coverUrlPreview').style.display = 'none';
    document.getElementById('releaseArtist').value = '';
    document.getElementById('releaseTitle').value = '';
    document.getElementById('releaseDate').value = '';
    document.getElementById('releaseTime').value = '00:00';
    switchCoverTab('file');
    document.getElementById('releaseModalOverlay').classList.add('show');
  }

  function switchCoverTab(tab) {
    document.getElementById('coverFileSection').style.display = tab === 'file' ? 'block' : 'none';
    document.getElementById('coverUrlSection').style.display = tab === 'url' ? 'block' : 'none';
    document.getElementById('coverTabFile').className = 'cover-tab' + (tab === 'file' ? ' active' : '');
    document.getElementById('coverTabUrl').className = 'cover-tab' + (tab === 'url' ? ' active' : '');
    if (tab === 'file') { coverBase64 = null; document.getElementById('coverUrlInput').value = ''; }
    else { coverBase64 = null; document.getElementById('coverFileInput').value = ''; document.getElementById('coverPreview').style.display = 'none'; document.getElementById('uploadText').style.display = 'block'; }
  }

  function handleCoverUrl(val) {
    const preview = document.getElementById('coverUrlPreview');
    if (val.startsWith('http')) {
      preview.src = val;
      preview.style.display = 'block';
      preview.onerror = () => { preview.style.display = 'none'; };
      coverBase64 = val; // —Ö—Ä–∞–Ω–∏–º URL –∫–∞–∫ –µ—Å—Ç—å
    } else {
      preview.style.display = 'none';
      coverBase64 = null;
    }
  }
  function closeReleaseModal() { document.getElementById('releaseModalOverlay').classList.remove('show'); }
  document.getElementById('releaseModalOverlay').addEventListener('click', e => { if (e.target.id === 'releaseModalOverlay') closeReleaseModal(); });

  function handleCoverUpload(event) {
    const file = event.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = (e) => {
      coverBase64 = e.target.result;
      const preview = document.getElementById('coverPreview');
      preview.src = coverBase64;
      preview.style.display = 'block';
      document.getElementById('uploadText').style.display = 'none';
    };
    reader.readAsDataURL(file);
  }

  async function addRelease() {
    const artist = document.getElementById('releaseArtist').value.trim();
    const title = document.getElementById('releaseTitle').value.trim();
    const releaseDate = document.getElementById('releaseDate').value;
    const releaseTime = document.getElementById('releaseTime').value || '00:00';
    if (!artist || !title || !releaseDate) { showToast('–ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è!'); return; }

    const res = await fetch('/api/releases', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ artist, title, releaseDate, releaseTime, cover: coverBase64 })
    });
    const data = await res.json();
    if (data.success) {
      closeReleaseModal();
      loadReleases();
      showToast('‚úì –†–µ–ª–∏–∑ –¥–æ–±–∞–≤–ª–µ–Ω!');
    } else {
      showToast('–û—à–∏–±–∫–∞: ' + data.error);
    }
  }

  async function loadReleases() {
    try {
      const res = await fetch('/api/releases');
      const releases = await res.json();
      renderReleases(releases);
    } catch { showToast('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–ª–∏–∑–æ–≤'); }
  }

  function renderReleases(releases) {
    const list = document.getElementById('releasesList');
    if (!releases.length) {
      list.innerHTML = '<div class="releases-empty">–ù–µ—Ç —Ä–µ–ª–∏–∑–æ–≤.<br>–ù–∞–∂–º–∏ ¬´–î–æ–±–∞–≤–∏—Ç—å¬ª —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π.</div>';
      return;
    }
    list.innerHTML = '';
    releases.forEach(r => {
      const now = new Date();
      const releaseDateTime = new Date(r.releaseDate + 'T' + (r.releaseTime || '00:00') + ':00');
      const isReleased = releaseDateTime <= now;
      const card = document.createElement('div');
      card.className = 'release-card' + (isReleased ? ' released' : '');

      // –û–±–ª–æ–∂–∫–∞
      if (r.cover) {
        const img = document.createElement('img');
        img.className = 'release-cover'; img.src = r.cover; img.alt = r.title;
        card.appendChild(img);
      } else {
        const ph = document.createElement('div');
        ph.className = 'release-cover-placeholder'; ph.textContent = 'üéµ';
        card.appendChild(ph);
      }

      // –ò–Ω—Ñ–æ
      const info = document.createElement('div'); info.className = 'release-info';
      const titleEl = document.createElement('div'); titleEl.className = 'release-title-text'; titleEl.textContent = r.title;
      const artistEl = document.createElement('div'); artistEl.className = 'release-artist-text'; artistEl.textContent = r.artist;
      info.appendChild(titleEl); info.appendChild(artistEl);
      card.appendChild(info);

      // –ü—Ä–∞–≤—ã–π –±–ª–æ–∫
      const right = document.createElement('div'); right.className = 'release-right';
      const dateBadge = document.createElement('div'); dateBadge.className = 'release-date-badge';
      dateBadge.textContent = formatDate(r.releaseDate, r.releaseTime);
      const statusBadge = document.createElement('div');
      statusBadge.className = 'release-status ' + (isReleased ? 'out' : 'upcoming');
      statusBadge.textContent = isReleased ? '‚úì –í—ã—à–µ–ª' : '–°–∫–æ—Ä–æ';
      right.appendChild(dateBadge); right.appendChild(statusBadge);
      card.appendChild(right);

      // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–∏—Ç—å
      const delBtn = document.createElement('button'); delBtn.className = 'btn-delete-release';
      delBtn.innerHTML = `<svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><polyline points="3,6 5,6 21,6"/><path d="M19,6l-1,14a2,2,0,0,1-2,2H8a2,2,0,0,1-2-2L5,6"/><path d="M10,11v6"/><path d="M14,11v6"/></svg>`;
      delBtn.title = '–£–¥–∞–ª–∏—Ç—å';
      delBtn.onclick = () => deleteRelease(r.id);
      card.appendChild(delBtn);

      list.appendChild(card);
    });
  }

  async function deleteRelease(id) {
    await fetch(`/api/releases/${id}`, { method: 'DELETE' });
    loadReleases();
    showToast('–£–¥–∞–ª–µ–Ω–æ');
  }

  function formatDate(dateStr, timeStr) {
    if (!dateStr) return '';
    const [y, m, d] = dateStr.split('-');
    const months = ['—è–Ω–≤','—Ñ–µ–≤','–º–∞—Ä','–∞–ø—Ä','–º–∞–π','–∏—é–Ω','–∏—é–ª','–∞–≤–≥','—Å–µ–Ω','–æ–∫—Ç','–Ω–æ—è','–¥–µ–∫'];
    const base = `${parseInt(d)} ${months[parseInt(m)-1]} ${y}`;
    if (timeStr && timeStr !== '00:00') return base + ' ¬∑ ' + timeStr;
    return base;
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  checkSiteStatus();
  setInterval(checkSiteStatus, 30000);

</script>
</body>
</html>
